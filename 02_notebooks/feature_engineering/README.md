# üìä Feature Engineering Notebooks

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç Jupyter notebooks –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è feature engineering.

## üìã –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### `feature_engineering_pipeline.ipynb`
**–û—Å–Ω–æ–≤–Ω–æ–π notebook –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤**

#### üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
 - –ó–∞–ø—É—Å–∫ FeatureEngineeringPipeline
 - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ MVP-–Ω–∞–±–æ—Ä–∞ –∏–∑ 33 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (–µ–¥–∏–Ω—ã–π –Ω–µ–π–º–∏–Ω–≥ `f_*` + `close`)
 - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
 - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
 - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Parquet

#### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏ –ø–æ–¥—Ä—è–¥ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
2. –†–µ–∑—É–ª—å—Ç–∞—Ç: `df_with_features` - DataFrame —Å –≤—Å–µ–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏
3. –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `01_data/processed/`

#### üìä –°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (MVP, 33 —Ñ–∏—á–∏):

- **–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å**
  - `close`

- **EMA**
  - `f_ema_10`, `f_ema_20`, `f_ema_50`, `f_ema_200`

- **–¢—Ä–µ–Ω–¥**
  - `f_close_minus_ema_20_over_atr14`, `f_ema20_slope`, `f_macd_12_26_9_hist`, `f_di_diff_14`, `f_adx_14`

- **–ò–º–ø—É–ª—å—Å**
  - `f_rsi_5`, `f_rsi_14`, `f_roc_5`

- **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ –¥–∏–∞–ø–∞–∑–æ–Ω**
  - `f_atr_14_pct`, `f_return_std_20`, `f_range_over_atr`, `f_donchian_pos_20`, `f_keltner_pos_20`, `f_percentB_20`, `f_bandwidth_20`

- **–î–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
  - `f_ret_1`, `f_ret_6`, `f_ret_12`, `f_ret_24`, `f_ret_1_z20`, `f_rolling_mean_ret_5`, `f_rolling_std_ret_5`, `f_zscore_close_50`

- **–ü—Ä–æ—á–∏–µ**
  - `f_vwap_dev_over_atr14`, `f_psar_trend`

- **–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ**
  - `f_hour_of_day_sin`, `f_hour_of_day_cos`, `f_dow`

–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: –≤—Å–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ ‚Äî `f_*`, —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ, —á–∏—Å–ª–∞ ‚Äî –¥–ª–∏–Ω—ã –æ–∫–æ–Ω –≤ –±–∞—Ä–∞—Ö (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ: `close`).

#### üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:
- –ü—Ä–æ—Ñ–∏–ª–∏ (`profile`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ NaN). –°–æ—Å—Ç–∞–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω (MVP, 33 —Ñ–∏—á–∏).
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `04_configs/feature_engineering.yml`.

#### üìà –†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: 5 –∫–æ–ª–æ–Ω–æ–∫ (OHLCV)
- –§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: 33 –∫–æ–ª–æ–Ω–∫–∏ (`close` + `f_*`)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: Parquet —Å –∫–æ–º–ø—Ä–µ—Å—Å–∏–µ–π snappy

## üìö –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫—Ä–∞—Ç–∫–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º—É–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞ –∏–∑ MVP-–Ω–∞–±–æ—Ä–∞ (33 —Ñ–∏—á–∏), –∞ —Ç–∞–∫–∂–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

### –ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏
- **close**: –ü–æ—Å–ª–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–µ–∫—É—â–µ–π —Å–≤–µ—á–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ–ø–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤. –§–æ—Ä–º–∞–ª—å–Ω–æ: \( close_t \).

### –°–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ (EMA)
- **f_ema_10**: –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è –∑–∞ 10 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \mathrm{EMA}_t = \alpha\, close_t + (1-\alpha)\, \mathrm{EMA}_{t-1} \), –≥–¥–µ \( \alpha = \tfrac{2}{10+1} \).
- **f_ema_20**: EMA –∑–∞ 20 —Å–≤–µ—á–µ–π (–±–æ–ª–µ–µ ¬´–º–µ–¥–ª–µ–Ω–Ω–∞—è¬ª, —á–µ–º EMA10). \( \alpha = \tfrac{2}{20+1} \).
- **f_ema_50**: EMA –∑–∞ 50 —Å–≤–µ—á–µ–π ‚Äî —Å—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–∞—è —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è. \( \alpha = \tfrac{2}{50+1} \).
- **f_ema_200**: EMA –∑–∞ 200 —Å–≤–µ—á–µ–π ‚Äî –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è. \( \alpha = \tfrac{2}{200+1} \).

### –¢—Ä–µ–Ω–¥–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
- **f_close_minus_ema_20_over_atr14**: –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –æ—Ç EMA20, –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ ATR14. –§–æ—Ä–º—É–ª–∞: \( (close_t - \mathrm{EMA20}_t) / \mathrm{ATR14}_t \).
- **f_ema20_slope**: –ù–∞–∫–ª–æ–Ω EMA20 ‚Äî –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–µ –∑–∞ 1 —Å–≤–µ—á—É. –§–æ—Ä–º—É–ª–∞: \( \mathrm{EMA20}_t - \mathrm{EMA20}_{t-1} \) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ ATR14).
- **f_macd_12_26_9_hist**: –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ MACD. –§–æ—Ä–º—É–ª—ã: \( \mathrm{MACD}_t = \mathrm{EMA12}_t - \mathrm{EMA26}_t \), \( \mathrm{Signal}_t = \mathrm{EMA}(\mathrm{MACD}, 9) \), \( \mathrm{Hist}_t = \mathrm{MACD}_t - \mathrm{Signal}_t \).
- **f_di_diff_14**: –†–∞–∑–Ω–∏—Ü–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤: \( \mathrm{DI}^+_{14} - \mathrm{DI}^-_{14} \).
- **f_adx_14**: –°—Ä–µ–¥–Ω–∏–π –∏–Ω–¥–µ–∫—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è (—Å–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞) –ø–æ –ø–µ—Ä–∏–æ–¥—É 14. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ \( \mathrm{DI}^+ / \mathrm{DI}^- \) –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É ADX.

### –ò–º–ø—É–ª—å—Å / –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã
- **f_rsi_5**: –ò–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã –∑–∞ 5 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \mathrm{RSI} = 100 - \tfrac{100}{1 + RS} \), –≥–¥–µ \( RS = \tfrac{\text{—Å—Ä–µ–¥–Ω–∏–π —Ä–æ—Å—Ç}}{\text{—Å—Ä–µ–¥–Ω–µ–µ –ø–∞–¥–µ–Ω–∏–µ}} \).
- **f_rsi_14**: RSI –∑–∞ 14 —Å–≤–µ—á–µ–π ‚Äî –±–æ–ª–µ–µ —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–º–ø—É–ª—å—Å–∞.
- **f_roc_5**: –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –∑–∞ 5 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \mathrm{ROC} = \tfrac{close_t - close_{t-5}}{close_{t-5}} \times 100\% \).

### –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ –¥–∏–∞–ø–∞–∑–æ–Ω
- **f_atr_14_pct**: ATR14, –¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞ —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É. –§–æ—Ä–º—É–ª–∞: \( \mathrm{ATR14}_t / close_t \).
- **f_return_std_20**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ª–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π –∑–∞ 20 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \operatorname{std}(\ln(\tfrac{close_t}{close_{t-1}}), \text{–æ–∫–Ω–æ}=20) \).
- **f_range_over_atr**: –û—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å–≤–µ—á–∏ –∫ ATR14. –§–æ—Ä–º—É–ª–∞: \( (High_t - Low_t) / \mathrm{ATR14}_t \).
- **f_donchian_pos_20**: –ü–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—ã –≤ –∫–∞–Ω–∞–ª–µ –î–æ–Ω—á–∏–∞–Ω–∞ (20). –§–æ—Ä–º—É–ª–∞: \( \tfrac{close_t - Low^{20}_t}{High^{20}_t - Low^{20}_t} \).
- **f_keltner_pos_20**: –ü–æ–ª–æ–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–∞–Ω–∞–ª–æ–≤ –ö–µ–ª—å—Ç–Ω–µ—Ä–∞. –§–æ—Ä–º—É–ª–∞: \( \tfrac{close_t - \mathrm{EMA20}_t}{2\times \mathrm{ATR20}_t} \).
- **f_percentB_20**: %B –ø–æ–ª–æ—Å –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞ (20). –§–æ—Ä–º—É–ª–∞: \( \tfrac{close_t - BB^{\text{lower}}_t}{BB^{\text{upper}}_t - BB^{\text{lower}}_t} \).
- **f_bandwidth_20**: –®–∏—Ä–∏–Ω–∞ –ø–æ–ª–æ—Å –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞. –§–æ—Ä–º—É–ª–∞: \( \tfrac{BB^{\text{upper}}_t - BB^{\text{lower}}_t}{BB^{\text{mid}}_t} \).

### –î–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **f_ret_1**: –õ–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ 1 —Å–≤–µ—á—É. –§–æ—Ä–º—É–ª–∞: \( \ln(\tfrac{close_t}{close_{t-1}}) \).
- **f_ret_6**: –õ–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ 6 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \ln(\tfrac{close_t}{close_{t-6}}) \).
- **f_ret_12**: –õ–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ 12 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \ln(\tfrac{close_t}{close_{t-12}}) \).
- **f_ret_24**: –õ–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ 24 —Å–≤–µ—á–∏. –§–æ—Ä–º—É–ª–∞: \( \ln(\tfrac{close_t}{close_{t-24}}) \).
- **f_ret_1_z20**: Z-score –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∑–∞ 1 —Å–≤–µ—á—É –ø–æ –æ–∫–Ω—É 20. –§–æ—Ä–º—É–ª–∞: \( \tfrac{f\_ret\_1 - \operatorname{mean}(f\_ret\_1,20)}{\operatorname{std}(f\_ret\_1,20)} \).
- **f_rolling_mean_ret_5**: –°—Ä–µ–¥–Ω—è—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∑–∞ 5 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \operatorname{mean}(f\_ret\_1, \text{–æ–∫–Ω–æ}=5) \).
- **f_rolling_std_ret_5**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∑–∞ 5 —Å–≤–µ—á–µ–π. –§–æ—Ä–º—É–ª–∞: \( \operatorname{std}(f\_ret\_1, \text{–æ–∫–Ω–æ}=5) \).
- **f_zscore_close_50**: Z-score —Ü–µ–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ –æ–∫–Ω—É 50. –§–æ—Ä–º—É–ª–∞: \( \tfrac{close_t - MA^{50}_t}{\operatorname{std}(close, 50)} \).

### –ü—Ä–æ—á–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
- **f_vwap_dev_over_atr14**: –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –æ—Ç VWAP, –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ ATR14. –§–æ—Ä–º—É–ª–∞: \( (close_t - VWAP_t) / \mathrm{ATR14}_t \).
- **f_psar_trend**: –ü—Ä–∏–∑–Ω–∞–∫ —Ç—Ä–µ–Ω–¥–∞ –ø–æ Parabolic SAR: 1, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –≤—ã—à–µ SAR, –∏–Ω–∞—á–µ 0.

### –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
- **f_hour_of_day_sin**, **f_hour_of_day_cos**: –°–∏–Ω—É—Å –∏ –∫–æ—Å–∏–Ω—É—Å –æ—Ç —á–∞—Å–∞ —Å—É—Ç–æ–∫ –¥–ª—è —É—á—ë—Ç–∞ —Å—É—Ç–æ—á–Ω–æ–π —Ü–∏–∫–ª–∏—á–Ω–æ—Å—Ç–∏. –§–æ—Ä–º—É–ª—ã: \( \sin(2\pi\, \tfrac{hour}{24}) \), \( \cos(2\pi\, \tfrac{hour}{24}) \).
- **f_dow**: –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏: –æ—Ç 0 (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫) –¥–æ 6 (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ).

### –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
- **y_bs** (buy/sell, –∑–Ω–∞—á–µ–Ω–∏—è 1/0): –ü—Ä–∞–≤–∏–ª–æ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞ \( H \) –±–∞—Ä–æ–≤:
  - –ë—É–¥—É—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å: \( r_t = Close_{t+H} - Close_t \)
  - –ú–µ—Ç–∫–∞: 1, –µ—Å–ª–∏ \( r_t > 0 \); 0, –µ—Å–ª–∏ \( r_t \le 0 \)
  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ \( H \) —Å—Ç—Ä–æ–∫ ‚Äî NaN (–Ω–µ—Ç —Ä–∞–∑–º–µ—Ç–∫–∏)
  - –ú–µ—Ç–∫–∞: \( y\_t = 1 \), –µ—Å–ª–∏ \( r_t > \varepsilon_t \); \( y\_t = -1 \), –µ—Å–ª–∏ \( r_t < -\varepsilon_t \); –∏–Ω–∞—á–µ \( y\_t = 0 \)
  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ \( H \) —Å—Ç—Ä–æ–∫ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –º–µ—Ç–æ–∫ (NaN)
